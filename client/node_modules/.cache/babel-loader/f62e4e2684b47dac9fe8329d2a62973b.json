{"ast":null,"code":"import _classCallCheck from\"/Users/helenemolberg/Server/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/helenemolberg/Server/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/helenemolberg/Server/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/helenemolberg/Server/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Map,TileLayer,GeoJSON,Marker,Popup}from\"react-leaflet\";import MarkerClusterGroup from\"react-leaflet-markercluster\";import LocateControl from\"../LocateControl\";import Control from\"react-leaflet-control\";import Select from\"react-select\";import{Dropdown,DropdownToggle,DropdownMenu,Card,CardTitle}from\"reactstrap\";import SearchField from\"react-search-field\";import DateRangePicker from\"@wojtekmaj/react-daterange-picker\";import{getPictures,getImages,getFilesProject}from\"../../API\";import*as e6kaaData from\"../../data/e6kaa.json\";import DateInfo from\"../infoToolTips/DateInfo\";import CategoryInfo from\"../infoToolTips/CategoryInfo\";import ProjectInfo from\"../infoToolTips/ProjectInfo\";import ParsellInfo from\"../infoToolTips/ParsellInfo\";import{FaSearch}from\"react-icons/fa\";import\"./Map.css\";import{gpsDirectionMarker}from\"../Markers\";// Rotere markørene\nimport\"leaflet-rotatedmarker\";// Options for the different projects\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var projectOptions=[{value:[63.55144,10.933473],label:\"E6 Kvithammar - Åsen\"},{value:[58.093886,7.644329],label:\"E39 Mandal\"},{value:[59.001439,9.613338],label:\"E18 Rugtvedt Dørdal\"}//Legge til resterende\n];// Options for the different categories\nvar categoryOptions=[{value:\"Elektro\",label:\"Elektro\"},{value:\"Fjellsikring\",label:\"Fjellsikring\"},{value:\"Fundamentering\",label:\"Fundamentering\"},{value:\"Geomatikk\",label:\"Geomatikk\"},{value:\"Konstruksjon\",label:\"Konstruksjon\"},{value:\"Riving og sanering\",label:\"Riving og sanering\"},{value:\"Tunnel\",label:\"Tunnel\"},{value:\"Vann og avløp\",label:\"Vann og avløp\"},{value:\"Veg\",label:\"Veg\"},{value:\"Markedsbilder\",label:\"Markedsbilder\"}];var Kart=/*#__PURE__*/function(_Component){_inherits(Kart,_Component);var _super=_createSuper(Kart);function Kart(){var _this;_classCallCheck(this,Kart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={location:{lat:63.430515,lng:10.395053},positionCoord:{lat:0,lng:0},zoom:5,dropdownOpen:false,selectedOption:null,dates:null,images:[],imageURLS:[]};_this.handleChange=function(selectedOption){_this.setState({location:{lat:selectedOption.value[0],lng:selectedOption.value[1]},selectedOption:selectedOption,zoom:11});// SORTERER PÅ PROSJEKT\ngetFilesProject(selectedOption.label).then(function(images){_this.setState({images:images.files});});};_this.handlePictures=function(name){Promise.resolve(getPictures(name)).then(function(value){console.log(value);return value;});};return _this;}_createClass(Kart,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;getImages().then(function(images){_this2.setState({images:images.images});});}},{key:\"render\",value:function render(){var _this3=this;var position=[this.state.location.lat,this.state.location.lng];var dropdownOpen=this.state.dropdownOpen;var selectedOption=this.state;console.log(this.state.images);// Position of user\nvar locateOptions={position:\"topleft\",strings:{title:\"Vis posisjon min\"},onActive:function onActive(){}// callback before engine starts retrieving locations\n};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Map,{className:\"map\",center:position,zoom:this.state.zoom,zoomControl:false,children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(LocateControl,{options:locateOptions}),/*#__PURE__*/_jsx(GeoJSON,{color:\"red\",data:e6kaaData.features}),/*#__PURE__*/_jsx(Control,{position:\"topright\",children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:dropdownOpen,toggle:function toggle(){_this3.setState({dropdownOpen:!_this3.state.dropdownOpen});},children:[/*#__PURE__*/_jsx(DropdownToggle,{caret:true,children:/*#__PURE__*/_jsx(FaSearch,{})}),/*#__PURE__*/_jsx(DropdownMenu,{children:/*#__PURE__*/_jsxs(Card,{className:\"message-form\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"title\",children:\"Bildes\\xF8k\"}),/*#__PURE__*/_jsx(ProjectInfo,{}),/*#__PURE__*/_jsx(Select,{className:\"select-option\",value:selectedOption.label,onChange:this.handleChange,options:projectOptions,placeholder:\"Velg Prosjekt\",menuColor:\"blue\"}),/*#__PURE__*/_jsx(ParsellInfo,{}),/*#__PURE__*/_jsx(SearchField,{placeholder:\"parsellnummer\",onSearchClick:function onSearchClick(par){return console.log(par);},onEnter:function onEnter(par){return console.log(par);},classNames:\"search-Field\"}),/*#__PURE__*/_jsx(CategoryInfo,{}),/*#__PURE__*/_jsx(Select,{className:\"select-category\",options:categoryOptions,isMulti:true,menuPlacement:\"auto\",maxMenuHeight:160}),/*#__PURE__*/_jsx(DateInfo,{}),/*#__PURE__*/_jsx(DateRangePicker,{onChange:function onChange(dates){return _this3.setState({dates:dates});},value:this.state.dates,locale:true,className:\"daterangePicker\"})]})})]})}),/*#__PURE__*/_jsx(MarkerClusterGroup,{children:this.state.images.length>0&&this.state.images.map(function(image){return/*#__PURE__*/_jsx(Marker,{position:[image.latitude,image.longitude],icon:gpsDirectionMarker,rotationAngle:image.GPSImgDirection,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Prosjekt: \"}),image.prosjekt,\" \",image.prosjektOmrade,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Parsell: \"}),image.parsell,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Kommentar: \"}),image.kommentar,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Kategori: \"}),image.kategori,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"H\\xF8ydemeter: \"}),image.GPSAltitude,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Dato tatt: \"}),image.captureDate,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"img\",{src:\"\\\"\".concat(_this3.handlePictures(image.imageName),\"\\\"\"),width:\"100\",height:\"100\",alt:image.imageName})]})},image._id);})})]})});}}]);return Kart;}(Component);export{Kart as default};","map":{"version":3,"sources":["/Users/helenemolberg/Server/client/src/components/pages/Map.js"],"names":["React","Component","Map","TileLayer","GeoJSON","Marker","Popup","MarkerClusterGroup","LocateControl","Control","Select","Dropdown","DropdownToggle","DropdownMenu","Card","CardTitle","SearchField","DateRangePicker","getPictures","getImages","getFilesProject","e6kaaData","DateInfo","CategoryInfo","ProjectInfo","ParsellInfo","FaSearch","gpsDirectionMarker","projectOptions","value","label","categoryOptions","Kart","state","location","lat","lng","positionCoord","zoom","dropdownOpen","selectedOption","dates","images","imageURLS","handleChange","setState","then","files","handlePictures","name","Promise","resolve","console","log","position","locateOptions","strings","title","onActive","features","par","length","map","image","latitude","longitude","GPSImgDirection","prosjekt","prosjektOmrade","parsell","kommentar","kategori","GPSAltitude","captureDate","imageName","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Map, TileLayer, GeoJSON, Marker, Popup } from \"react-leaflet\";\nimport MarkerClusterGroup from \"react-leaflet-markercluster\";\nimport LocateControl from \"../LocateControl\";\nimport Control from \"react-leaflet-control\";\nimport Select from \"react-select\";\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  Card,\n  CardTitle,\n} from \"reactstrap\";\nimport SearchField from \"react-search-field\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\n\nimport { getPictures, getImages, getFilesProject } from \"../../API\";\nimport * as e6kaaData from \"../../data/e6kaa.json\";\nimport DateInfo from \"../infoToolTips/DateInfo\";\nimport CategoryInfo from \"../infoToolTips/CategoryInfo\";\nimport ProjectInfo from \"../infoToolTips/ProjectInfo\";\nimport ParsellInfo from \"../infoToolTips/ParsellInfo\";\nimport { FaSearch } from \"react-icons/fa\";\n\nimport \"./Map.css\";\n\nimport { gpsDirectionMarker } from \"../Markers\";\n// Rotere markørene\nimport \"leaflet-rotatedmarker\";\n\n// Options for the different projects\nconst projectOptions = [\n  { value: [63.55144, 10.933473], label: \"E6 Kvithammar - Åsen\" },\n  { value: [58.093886, 7.644329], label: \"E39 Mandal\" },\n  { value: [59.001439, 9.613338], label: \"E18 Rugtvedt Dørdal\" },\n  //Legge til resterende\n];\n// Options for the different categories\nconst categoryOptions = [\n  { value: \"Elektro\", label: \"Elektro\" },\n  { value: \"Fjellsikring\", label: \"Fjellsikring\" },\n  { value: \"Fundamentering\", label: \"Fundamentering\" },\n  { value: \"Geomatikk\", label: \"Geomatikk\" },\n  { value: \"Konstruksjon\", label: \"Konstruksjon\" },\n  { value: \"Riving og sanering\", label: \"Riving og sanering\" },\n  { value: \"Tunnel\", label: \"Tunnel\" },\n  { value: \"Vann og avløp\", label: \"Vann og avløp\" },\n  { value: \"Veg\", label: \"Veg\" },\n  { value: \"Markedsbilder\", label: \"Markedsbilder\" },\n];\n\nexport default class Kart extends Component {\n  state = {\n    location: {\n      lat: 63.430515,\n      lng: 10.395053,\n    },\n    positionCoord: {\n      lat: 0,\n      lng: 0,\n    },\n    zoom: 5,\n    dropdownOpen: false,\n    selectedOption: null,\n    dates: null,\n    images: [],\n    imageURLS: [],\n  };\n\n  componentDidMount() {\n    getImages().then((images) => {\n      this.setState({\n        images: images.images,\n      });\n\n    });\n  }\n\n\n  handleChange = (selectedOption) => {\n    this.setState({\n      location: {\n        lat: selectedOption.value[0],\n        lng: selectedOption.value[1],\n      },\n      selectedOption: selectedOption,\n      zoom: 11,\n    });\n\n    // SORTERER PÅ PROSJEKT\n    getFilesProject(selectedOption.label)\n    .then(images => {\n      this.setState({\n        images: images.files\n      });\n    });\n  }\n\n  handlePictures = (name) => {\n    Promise.resolve(getPictures(name)).then(function (value) {\n      console.log(value);\n      return value;\n    })\n  }\n\n  render() {\n    const position = [this.state.location.lat, this.state.location.lng];\n    const dropdownOpen = this.state.dropdownOpen;\n    const selectedOption = this.state;\n\n    console.log(this.state.images);\n\n    // Position of user\n    const locateOptions = {\n      position: \"topleft\",\n      strings: {\n        title: \"Vis posisjon min\",\n      },\n      onActive: () => {}, // callback before engine starts retrieving locations\n    };\n\n    return (\n      <div className=\"app\">\n        <Map\n          className=\"map\"\n          center={position}\n          zoom={this.state.zoom}\n          zoomControl={false}\n        >\n          <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <LocateControl options={locateOptions} />\n\n          <GeoJSON color=\"red\" data={e6kaaData.features} />\n\n          <Control position=\"topright\">\n            <Dropdown\n              isOpen={dropdownOpen}\n              toggle={() => {\n                this.setState({ dropdownOpen: !this.state.dropdownOpen });\n              }}\n            >\n              <DropdownToggle caret>\n                <FaSearch />\n              </DropdownToggle>\n              <DropdownMenu>\n                <Card className=\"message-form\">\n                  <CardTitle className=\"title\">Bildesøk</CardTitle>\n                  <ProjectInfo />\n                  <Select\n                    className=\"select-option\"\n                    value={selectedOption.label}\n                    onChange={this.handleChange}\n                    options={projectOptions}\n                    placeholder=\"Velg Prosjekt\"\n                    menuColor=\"blue\"\n                  />\n                  <ParsellInfo />\n                  <SearchField\n                    placeholder=\"parsellnummer\"\n                    onSearchClick={(par) => console.log(par)}\n                    onEnter={(par) => console.log(par)}\n                    classNames=\"search-Field\"\n                  />\n                  <CategoryInfo />\n                  <Select\n                    className=\"select-category\"\n                    options={categoryOptions}\n                    isMulti\n                    menuPlacement=\"auto\"\n                    maxMenuHeight={160}\n                  />\n                  <DateInfo />\n                  <DateRangePicker\n                    onChange={(dates) => this.setState({ dates })}\n                    value={this.state.dates}\n                    locale\n                    className=\"daterangePicker\"\n                  />\n                </Card>\n              </DropdownMenu>\n            </Dropdown>\n          </Control>\n          <MarkerClusterGroup>\n            {this.state.images.length > 0 &&\n              this.state.images.map((image) => (\n                <Marker\n                  key={image._id}\n                  position={[image.latitude, image.longitude]}\n                  icon={gpsDirectionMarker}\n                  rotationAngle={image.GPSImgDirection}\n                >\n                  <Popup>\n                    <b>Prosjekt: </b>\n                    {image.prosjekt} {image.prosjektOmrade}\n                    <p />\n                    <b>Parsell: </b>\n                    {image.parsell}\n                    <p />\n                    <b>Kommentar: </b>\n                    {image.kommentar}\n                    <p />\n                    <b>Kategori: </b>\n                    {image.kategori}\n                    <p />\n                    <b>Høydemeter: </b>\n                    {image.GPSAltitude}\n                    <p />\n                    <b>Dato tatt: </b>\n                    {image.captureDate}\n                    <p />\n                    <img\n                      src={`\"${this.handlePictures(image.imageName)}\"`}\n                      width=\"100\"\n                      height=\"100\"\n                      alt={image.imageName}\n                    />\n                  </Popup>\n                </Marker>\n              ))}\n          </MarkerClusterGroup>\n        </Map>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}